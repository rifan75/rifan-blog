{
  "title": "GraphQL at Hy-Vee",
  "publishedAt": "2019-10-30",
  "summary": "Learn about how we've adopted GraphQL at Hy-Vee to improve developer efficiency and enhance our user experience.",
  "image": "/static/images/graphql-at-hy-vee/banner.jpg",
  "body": {
    "raw": "\r\nAPIs are the backbone of Hy-Vee.\r\n\r\nProducts, locations, lists, coupons - the data sources that power our company are all powered through APIs.\r\n\r\nWeâ€™ve traditionally used a [RESTful](https://restfulapi.net/) approach to creating APIs. Over the past 6 months, weâ€™ve adopted [GraphQL](https://graphql.org/learn/) for every new microservice API we create.\r\n\r\nWhy? Letâ€™s find out.\r\n\r\n## What isÂ GraphQL?\r\n\r\n> GraphQL is a query language for your API, and a server-side runtime for executing queries by using a type system you define for your data. GraphQL isn't tied to any specific database or storage engine, but is instead backed by your existing code and data.\r\n\r\nLetâ€™s unpack that a bit. Itâ€™s an open-source [specification](https://graphql.github.io/graphql-spec/June2018/) for how to query your APIs. Itâ€™s language/framework agnostic, which means it works with almost every language you can imagine.\r\n\r\nSimply put, **GraphQL makes it easier for us to create performant, scalable APIs.**\r\n\r\n<Image\r\n  alt={`Hy-Vee Aisles Online Mobile App`}\r\n  src={`/static/images/graphql-at-hy-vee/app.png`}\r\n  width={1200}\r\n  height={600}\r\n/>\r\n\r\n## What Problem Are We Trying to Solve?\r\n\r\nA few months ago, we launched our new Aisles Online mobile app ([iOS](https://apps.apple.com/us/app/hy-vee-aisles-online/id1401371704) and [Android](https://play.google.com/store/apps/details?id=com.hyvee.grocery&hl=en_US)). In the process of evaluating which tech to use, we identified a major requirement:\r\n\r\n**The application needed to be blazing fast. Pages should load quickly and interactions should appear to happen in near real-time.**\r\n\r\nWhen our home screen loads, it needs to retrieve data from a variety of places. This would typically require a handful of API calls. This can be slow.\r\n\r\nEnter GraphQL. With a single query, we can fetch data about our customer, products, locations, and more. Itâ€™s blazing fast. Plus, we can utilize [Optimistic UI](https://www.apollographql.com/docs/react/features/optimistic-ui/) to make interactions feel instantaneous.\r\n\r\n## Fetching Data\r\n\r\nLetâ€™s say weâ€™re dealing with a userâ€™s shopping lists. When our page loads, we want to load all of the users' lists.\r\n\r\n```graphql\r\nquery {\r\n  lists {\r\n    listId\r\n    name\r\n    isPrimary\r\n    lastModified\r\n    listItems {\r\n      isChecked\r\n      listItemId\r\n      productId\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis request will only fetch what is needed. The response conforms to the same structure as the query and returns a JSON object.\r\n\r\n```graphql\r\n{\r\n  \"data\": {\r\n    \"lists\": [\r\n      {\r\n        \"listId\": \"d2bf5976-c4e0-4e4a-833a-8bc32549aeff\",\r\n        \"name\": \"My List\",\r\n        \"isPrimary\": true,\r\n        \"lastModified\": \"2019-09-09T20:03:55.607Z\",\r\n        \"listItems\": [\r\n          {\r\n            \"isChecked\": false,\r\n            \"listItemId\": \"69381a3c-89fe-4f42-a14e-8da955aa9dce\",\r\n            \"productId\": 123\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nThere are a variety of other options available on the list model we can add or remove as necessary. GraphQL will only return what we explicitly asked for.\r\n\r\n## Modifying Data\r\n\r\nIf fetching is the equivalent of a GET request, a [Mutation](https://graphql.org/learn/queries/) is the equivalent of a PUT or POST request. Hereâ€™s a simple example of how we might create a new shopping list.\r\n\r\n```graphql\r\nmutation {\r\n  createList(\r\n    createListInput: {\r\n      listId: \"415cefed-1624-4977-96c3-f835ad2369d4\"\r\n      name: \"Snacks\"\r\n      created: \"2018-10-05T14:48:00.000Z\"\r\n      lastModified: \"2018-10-05T14:48:00.000Z\"\r\n      isPrimary: false\r\n      isRemoved: false\r\n    }\r\n  ) {\r\n    listId\r\n    name\r\n    isPrimary\r\n    lastModified\r\n    listItems {\r\n      listItemId\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIf successful, this mutation will return a JSON response of the fields weâ€™ve defined above.\r\n\r\n```graphql\r\n{\r\n  \"data\": {\r\n    \"createList\": {\r\n      \"listId\": \"415cefed-1624-4977-96c3-f835ad2369d4\",\r\n      \"name\": \"Snacks\",\r\n      \"isPrimary\": false,\r\n      \"lastModified\": \"2018-10-05T14:48:00.000Z\",\r\n      \"listItems\": []\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n## GraphQL API\r\n\r\nAs the number of our microservice APIs began to grow, we recognized a problem. We had followed best practices for creating APIs with a [single responsibility](https://en.wikipedia.org/wiki/Single_responsibility_principle), but this meant we had multiple entry points to retrieve data. Clients had to stitch together resources from each of these APIs to paint the full picture. There had to be a [better way](https://principledgraphql.com/).\r\n\r\nEnter the GraphQL API. Unlike our other APIs, the **GraphQL API is not backed by a database.** This API acts as a proxy between all of our other services, providing one unified schema. This led to an improved developer experience for our consumers and the ability to easily stitch together pieces of information across multiple APIs. We currently have almost 10 different graphs being combined into one simple interface for developers.\r\n\r\nWith the GraphQL API, we can easily link a list item to a product, which is a completely separate API. Since the list item contains a `productId`, we can make a query to fetch the product.\r\n\r\n```graphql\r\nquery {\r\n  product(productId: $productId) {\r\n    productId\r\n    productImages(where: { isPrimary: true, size: $size }) {\r\n      size\r\n      uri\r\n      isPrimary\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis allows us to retrieve the associated product image for the list item.\r\n\r\n```graphql\r\n{\r\n  \"data\": {\r\n    \"product\": {\r\n      \"productId\": \"37191\",\r\n      \"productImages\": [\r\n        {\r\n          \"size\": \"THUMBNAIL\",\r\n          \"uri\": \"https://example.com/image-123.jpg\",\r\n          \"isPrimary\": true\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nTo achieve the GraphQL API, weâ€™re using a custom solution - but itâ€™s similar to the idea behind [Apollo Federation](https://blog.apollographql.com/apollo-federation-f260cf525d21).\r\n\r\n```js\r\nconst { ApolloGateway } = require('@apollo/gateway');\r\n\r\nconst gateway = new ApolloGateway({\r\n  serviceList: [\r\n    { name: 'accounts', url: 'accounts-api.company.com/graphql' },\r\n    { name: 'reviews', url: 'reviews-api.company.com/graphql' },\r\n    { name: 'products', url: 'products-api.company.com/graphql' },\r\n    { name: 'inventory', url: 'inventory-api.company.com/graphql' }\r\n  ]\r\n});\r\n```\r\n\r\n## Consuming OurÂ APIs\r\n\r\nAll new web applications at Hy-Vee are being created with [React](https://reactjs.org/). For our mobile applications, this means [React Native](https://facebook.github.io/react-native/). Thus, we needed a solution that would work across both web and mobile to consume GraphQL.\r\n\r\n[Apollo Client](https://www.apollographql.com/docs/react/) is a complete state management library for JavaScript apps. Write a GraphQL query and Apollo Client will take care of requesting and caching your data, as well as updating your UI.\r\n\r\nThe `useQuery` [hook](https://www.apollographql.com/docs/react/api/react-hooks/) provides a concise way to query your APIs.\r\n\r\n```jsx\r\nfunction Lists() {\r\n  const { loading, error, data } = useQuery(GET_LISTS);\r\n\r\n  if (loading) return 'Loading...';\r\n  if (error) return `Error! ${error.message}`;\r\n\r\n  return (\r\n    <ul>\r\n      {data.lists.map((list) => (\r\n        <li key={list.listId}>{list.name}</li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n```\r\n\r\n## Conclusion\r\n\r\nAdopting GraphQL has been a huge win for developer productivity and ultimately our user experience.\r\n\r\nCommon issues like [batching requests](https://github.com/graphql/dataloader) and [caching](https://www.apollographql.com/docs/react/advanced/caching/) have already been solved through the amazing open-source community around GraphQL. Weâ€™ve even started experimenting with TypeScript and [auto-generating types](https://github.com/apollographql/apollo-tooling) based on our GraphQL schemas.\r\n\r\nGraphQL at Hy-Vee is here to stayâ€Šâ€”â€Šand itâ€™s only getting better ðŸš€\r\n",
    "code": "var Component=(()=>{var d=Object.create;var l=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var k=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),g=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},i=(a,n,s,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of m(n))!N.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(t=h(n,c))||t.enumerable});return a};var y=(a,n,s)=>(s=a!=null?d(u(a)):{},i(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),f=a=>i(l({},\"__esModule\",{value:!0}),a);var o=k((P,r)=>{r.exports=_jsx_runtime});var v={};g(v,{default:()=>q,frontmatter:()=>w});var e=y(o()),w={title:\"GraphQL at Hy-Vee\",publishedAt:\"2019-10-30\",summary:\"Learn about how we've adopted GraphQL at Hy-Vee to improve developer efficiency and enhance our user experience.\",image:\"/static/images/graphql-at-hy-vee/banner.jpg\"};function p(a){let n=Object.assign({p:\"p\",a:\"a\",h2:\"h2\",span:\"span\",blockquote:\"blockquote\",strong:\"strong\",pre:\"pre\",code:\"code\"},a.components),{Image:s}=n;return s||I(\"Image\",!0,\"24:1-29:3\"),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"APIs are the backbone of Hy-Vee.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Products, locations, lists, coupons - the data sources that power our company are all powered through APIs.\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"We\\u2019ve traditionally used a \",(0,e.jsx)(n.a,{href:\"https://restfulapi.net/\",children:\"RESTful\"}),\" approach to creating APIs. Over the past 6 months, we\\u2019ve adopted \",(0,e.jsx)(n.a,{href:\"https://graphql.org/learn/\",children:\"GraphQL\"}),\" for every new microservice API we create.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Why? Let\\u2019s find out.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"what-isgraphql\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#what-isgraphql\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"What is\\xA0GraphQL?\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"GraphQL is a query language for your API, and a server-side runtime for executing queries by using a type system you define for your data. GraphQL isn't tied to any specific database or storage engine, but is instead backed by your existing code and data.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"Let\\u2019s unpack that a bit. It\\u2019s an open-source \",(0,e.jsx)(n.a,{href:\"https://graphql.github.io/graphql-spec/June2018/\",children:\"specification\"}),\" for how to query your APIs. It\\u2019s language/framework agnostic, which means it works with almost every language you can imagine.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"Simply put, \",(0,e.jsx)(n.strong,{children:\"GraphQL makes it easier for us to create performant, scalable APIs.\"})]}),`\n`,(0,e.jsx)(s,{alt:\"Hy-Vee Aisles Online Mobile App\",src:\"/static/images/graphql-at-hy-vee/app.png\",width:1200,height:600}),`\n`,(0,e.jsxs)(n.h2,{id:\"what-problem-are-we-trying-to-solve\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#what-problem-are-we-trying-to-solve\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"What Problem Are We Trying to Solve?\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"A few months ago, we launched our new Aisles Online mobile app (\",(0,e.jsx)(n.a,{href:\"https://apps.apple.com/us/app/hy-vee-aisles-online/id1401371704\",children:\"iOS\"}),\" and \",(0,e.jsx)(n.a,{href:\"https://play.google.com/store/apps/details?id=com.hyvee.grocery&hl=en_US\",children:\"Android\"}),\"). In the process of evaluating which tech to use, we identified a major requirement:\"]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"The application needed to be blazing fast. Pages should load quickly and interactions should appear to happen in near real-time.\"})}),`\n`,(0,e.jsx)(n.p,{children:\"When our home screen loads, it needs to retrieve data from a variety of places. This would typically require a handful of API calls. This can be slow.\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"Enter GraphQL. With a single query, we can fetch data about our customer, products, locations, and more. It\\u2019s blazing fast. Plus, we can utilize \",(0,e.jsx)(n.a,{href:\"https://www.apollographql.com/docs/react/features/optimistic-ui/\",children:\"Optimistic UI\"}),\" to make interactions feel instantaneous.\"]}),`\n`,(0,e.jsxs)(n.h2,{id:\"fetching-data\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#fetching-data\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Fetching Data\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Let\\u2019s say we\\u2019re dealing with a user\\u2019s shopping lists. When our page loads, we want to load all of the users' lists.\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"query\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token object\",children:\"lists\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"listId\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"name\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"isPrimary\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"lastModified\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token object\",children:\"listItems\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"isChecked\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"listItemId\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"productId\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"This request will only fetch what is needed. The response conforms to the same structure as the query and returns a JSON object.\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"data\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"lists\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"listId\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"d2bf5976-c4e0-4e4a-833a-8bc32549aeff\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"name\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"My List\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"isPrimary\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"lastModified\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"2019-09-09T20:03:55.607Z\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"listItems\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"isChecked\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"listItemId\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"69381a3c-89fe-4f42-a14e-8da955aa9dce\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"productId\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"123\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"There are a variety of other options available on the list model we can add or remove as necessary. GraphQL will only return what we explicitly asked for.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"modifying-data\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#modifying-data\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Modifying Data\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"If fetching is the equivalent of a GET request, a \",(0,e.jsx)(n.a,{href:\"https://graphql.org/learn/queries/\",children:\"Mutation\"}),\" is the equivalent of a PUT or POST request. Here\\u2019s a simple example of how we might create a new shopping list.\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"mutation\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property-query property-mutation\",children:\"createList\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"createListInput\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"listId\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsxs)(n.span,{className:\"token description string\",children:['\"',(0,e.jsx)(n.span,{className:\"token language-markdown\",children:\"415cefed-1624-4977-96c3-f835ad2369d4\"}),'\"']}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsxs)(n.span,{className:\"token description string\",children:['\"',(0,e.jsx)(n.span,{className:\"token language-markdown\",children:\"Snacks\"}),'\"']}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"created\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsxs)(n.span,{className:\"token description string\",children:['\"',(0,e.jsx)(n.span,{className:\"token language-markdown\",children:\"2018-10-05T14:48:00.000Z\"}),'\"']}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"lastModified\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsxs)(n.span,{className:\"token description string\",children:['\"',(0,e.jsx)(n.span,{className:\"token language-markdown\",children:\"2018-10-05T14:48:00.000Z\"}),'\"']}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"isPrimary\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"isRemoved\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"listId\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"name\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"isPrimary\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"lastModified\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token object\",children:\"listItems\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"listItemId\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"If successful, this mutation will return a JSON response of the fields we\\u2019ve defined above.\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"data\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"createList\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"listId\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"415cefed-1624-4977-96c3-f835ad2369d4\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"name\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Snacks\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"isPrimary\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"lastModified\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"2018-10-05T14:48:00.000Z\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"listItems\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"graphql-api\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#graphql-api\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"GraphQL API\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"As the number of our microservice APIs began to grow, we recognized a problem. We had followed best practices for creating APIs with a \",(0,e.jsx)(n.a,{href:\"https://en.wikipedia.org/wiki/Single_responsibility_principle\",children:\"single responsibility\"}),\", but this meant we had multiple entry points to retrieve data. Clients had to stitch together resources from each of these APIs to paint the full picture. There had to be a \",(0,e.jsx)(n.a,{href:\"https://principledgraphql.com/\",children:\"better way\"}),\".\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"Enter the GraphQL API. Unlike our other APIs, the \",(0,e.jsx)(n.strong,{children:\"GraphQL API is not backed by a database.\"}),\" This API acts as a proxy between all of our other services, providing one unified schema. This led to an improved developer experience for our consumers and the ability to easily stitch together pieces of information across multiple APIs. We currently have almost 10 different graphs being combined into one simple interface for developers.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"With the GraphQL API, we can easily link a list item to a product, which is a completely separate API. Since the list item contains a \",(0,e.jsx)(n.code,{children:\"productId\"}),\", we can make a query to fetch the product.\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"query\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"product\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"productId\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$productId\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"productId\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"productImages\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"where\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"isPrimary\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"size\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$size\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"size\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"uri\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"isPrimary\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"This allows us to retrieve the associated product image for the list item.\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"data\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"product\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"productId\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"37191\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"productImages\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"size\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"THUMBNAIL\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"uri\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"https://example.com/image-123.jpg\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"isPrimary\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.p,{children:[\"To achieve the GraphQL API, we\\u2019re using a custom solution - but it\\u2019s similar to the idea behind \",(0,e.jsx)(n.a,{href:\"https://blog.apollographql.com/apollo-federation-f260cf525d21\",children:\"Apollo Federation\"}),\".\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ApolloGateway\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'@apollo/gateway'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" gateway \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"ApolloGateway\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"serviceList\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'accounts'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"url\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'accounts-api.company.com/graphql'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'reviews'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"url\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'reviews-api.company.com/graphql'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'products'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"url\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'products-api.company.com/graphql'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'inventory'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"url\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'inventory-api.company.com/graphql'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"consuming-ourapis\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#consuming-ourapis\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Consuming Our\\xA0APIs\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"All new web applications at Hy-Vee are being created with \",(0,e.jsx)(n.a,{href:\"https://reactjs.org/\",children:\"React\"}),\". For our mobile applications, this means \",(0,e.jsx)(n.a,{href:\"https://facebook.github.io/react-native/\",children:\"React Native\"}),\". Thus, we needed a solution that would work across both web and mobile to consume GraphQL.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.a,{href:\"https://www.apollographql.com/docs/react/\",children:\"Apollo Client\"}),\" is a complete state management library for JavaScript apps. Write a GraphQL query and Apollo Client will take care of requesting and caching your data, as well as updating your UI.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"The \",(0,e.jsx)(n.code,{children:\"useQuery\"}),\" \",(0,e.jsx)(n.a,{href:\"https://www.apollographql.com/docs/react/api/react-hooks/\",children:\"hook\"}),\" provides a concise way to query your APIs.\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-jsx\",children:(0,e.jsxs)(n.code,{className:\"language-jsx code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Lists\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" loading\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" error\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" data \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"useQuery\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"GET_LISTS\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"loading\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'Loading...'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"error\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"Error! \"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"error\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"message\"}),(0,e.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"<\"}),\"ul\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),(0,e.jsx)(n.span,{className:\"token plain-text\",children:`\\r\n`})]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token plain-text\",children:\"      \"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"lists\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"list\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"<\"}),\"li\"]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"key\"}),(0,e.jsxs)(n.span,{className:\"token script language-javascript\",children:[(0,e.jsx)(n.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"list\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"listId\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"list\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"</\"}),\"li\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token plain-text\",children:`\\r\n`})]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token plain-text\",children:\"    \"}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"</\"}),\"ul\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\">\"})]}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"conclusion\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#conclusion\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Conclusion\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Adopting GraphQL has been a huge win for developer productivity and ultimately our user experience.\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"Common issues like \",(0,e.jsx)(n.a,{href:\"https://github.com/graphql/dataloader\",children:\"batching requests\"}),\" and \",(0,e.jsx)(n.a,{href:\"https://www.apollographql.com/docs/react/advanced/caching/\",children:\"caching\"}),\" have already been solved through the amazing open-source community around GraphQL. We\\u2019ve even started experimenting with TypeScript and \",(0,e.jsx)(n.a,{href:\"https://github.com/apollographql/apollo-tooling\",children:\"auto-generating types\"}),\" based on our GraphQL schemas.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"GraphQL at Hy-Vee is here to stay\\u200A\\u2014\\u200Aand it\\u2019s only getting better \\u{1F680}\"})]})}function b(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,Object.assign({},a,{children:(0,e.jsx)(p,a)})):p(a)}var q=b;function I(a,n,s){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(s?\"\\nIt\\u2019s referenced in your code at `\"+s+\"` in `D:\\\\Linux_Share\\\\reactapp\\\\rifan-blog\\\\data\\\\blog\\\\_mdx_bundler_entry_point-65cdaae8-e45e-417a-8a56-d30ae60dda0b.mdx`\":\"\"))}return f(v);})();\n;return Component;"
  },
  "_id": "blog/graphql-at-hy-vee.mdx",
  "_raw": {
    "sourceFilePath": "blog/graphql-at-hy-vee.mdx",
    "sourceFileName": "graphql-at-hy-vee.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/graphql-at-hy-vee"
  },
  "type": "Blog",
  "readingTime": {
    "text": "5 min read",
    "minutes": 4.815,
    "time": 288900,
    "words": 963
  },
  "wordCount": 969,
  "tweetIds": [],
  "slug": "graphql-at-hy-vee"
}